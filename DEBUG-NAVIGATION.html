<!DOCTYPE html>
<html>
<head>
    <title>Navigation Debug</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #f5f5f5; }
        .section { background: white; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .error { color: red; font-weight: bold; }
        .success { color: green; font-weight: bold; }
        .warning { color: orange; font-weight: bold; }
        code { background: #eee; padding: 2px 5px; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>ğŸ” Worker Navigation Debug</h1>
    
    <div class="section">
        <h2>Test AdÄ±mlarÄ±:</h2>
        <ol>
            <li>Worker olarak giriÅŸ yapÄ±n: <code>http://localhost:3001</code></li>
            <li>F12 tuÅŸuna basÄ±n (Developer Console)</li>
            <li><strong>Console</strong> sekmesine gidin</li>
            <li>AÅŸaÄŸÄ±daki kodu yapÄ±ÅŸtÄ±rÄ±n ve Enter'a basÄ±n:</li>
        </ol>
        
        <textarea style="width: 100%; height: 150px; font-family: monospace; padding: 10px;" readonly>
// User bilgisini kontrol et
const user = JSON.parse(localStorage.getItem('user') || '{}');
console.log('User Role:', user?.role?.type);
console.log('Is Worker?', user?.role?.type === 'worker');
console.log('Is AhiIk?', user?.ahiIkMember === true);

// Cookie'den de kontrol
const cookieUser = document.cookie.split('; ').find(row => row.startsWith('user='));
if (cookieUser) {
    const userData = JSON.parse(decodeURIComponent(cookieUser.split('=')[1]));
    console.log('Cookie User Role:', userData?.role?.type);
}
        </textarea>
    </div>

    <div class="section">
        <h2>Beklenen SonuÃ§:</h2>
        <p class="success">âœ… User Role: "worker"</p>
        <p class="success">âœ… Is Worker? true</p>
        <p class="error">âŒ Is AhiIk? false</p>
    </div>

    <div class="section">
        <h2>Navigation MenÃ¼sÃ¼ Kontrol:</h2>
        <p>Sol menÃ¼de <strong>sadece ÅŸunlarÄ±</strong> gÃ¶rmelisiniz:</p>
        <ul>
            <li>âœ… Ana Sayfa (worker-dashboard)</li>
            <li>âœ… Ä°zin Taleplerim (worker-leave-requests)</li>
            <li>âœ… GÃ¶revlerim (worker-tasks)</li>
            <li>âœ… <strong>PDKS QR Okut</strong> (pdks-scan) â† BUNA TIKLAYIN</li>
        </ul>
        <p class="error">âŒ <strong>"PDKS"</strong> veya <strong>"Ä°nsan KaynaklarÄ±"</strong> menÃ¼sÃ¼ GÃ–RÃœNMEMELÄ°!</p>
        <p class="warning">âš ï¸ EÄŸer "Ä°nsan KaynaklarÄ±" altÄ±nda "PDKS" gÃ¶rÃ¼yorsanÄ±z, ona tÄ±klamayÄ±n!</p>
    </div>

    <div class="section">
        <h2>Link KontrolÃ¼:</h2>
        <p>PDKS linkine saÄŸ tÄ±klayÄ±p <strong>"Linki Kopyala"</strong> seÃ§in.</p>
        <p>Link ÅŸÃ¶yle olmalÄ±:</p>
        <p class="success">âœ… <code>http://localhost:3001/pdks-scan</code></p>
        <p class="error">âŒ <code>http://localhost:3001/pdks</code> (YANLIÅ!)</p>
    </div>

    <div class="section">
        <h2>Sorun Devam Ediyorsa:</h2>
        <p>Console'da ÅŸu komutu Ã§alÄ±ÅŸtÄ±rÄ±n:</p>
        <textarea style="width: 100%; height: 100px; font-family: monospace; padding: 10px;" readonly>
// Navigation visibility test
const authService = window.authService || {}; 
console.log('authService.isWorker:', typeof authService.isWorker === 'function' ? authService.isWorker() : 'FUNCTION YOK');
console.log('authService.isAhiIk:', typeof authService.isAhiIk === 'function' ? authService.isAhiIk() : 'FUNCTION YOK');
        </textarea>
    </div>

    <div class="section">
        <h2>Network Log:</h2>
        <ol>
            <li>F12 â†’ <strong>Network</strong> sekmesi</li>
            <li>PDKS menÃ¼sÃ¼ne tÄ±klayÄ±n</li>
            <li>Ä°lk isteÄŸe bakÄ±n:</li>
        </ol>
        <p class="success">âœ… DoÄŸru: <code>GET /pdks-scan â†’ 200 OK</code></p>
        <p class="error">âŒ YanlÄ±ÅŸ: <code>GET /pdks â†’ 307 Redirect â†’ /worker-dashboard</code></p>
    </div>
</body>
</html>





